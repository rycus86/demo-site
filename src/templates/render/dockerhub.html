<div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--4-col mdl-cell--top dockerhub" id="dockerhub-{{ data.name }}">

    <div class="mdl-card__title mdl-card--border mdl-color--cyan mdl-color-text--white"
         style="flex-direction: column; justify-content: flex-end;">
        <!-- TODO inline style (x3) -->
        <h2 class="mdl-card__title-text"
            style="align-self: flex-start;">{{ data.name }}</h2>
    </div>

    <div class="mdl-card__supporting-text">
        <p>
            <span id="dockerhub-time-pushed-{{ data.name }}" class="mdl-chip mdl-chip--contact">
                <i class="mdl-chip__contact material-icons mdl-color--cyan">history</i>
                <span class="mdl-chip__text momentjs-time" data-time="{{ data.last_updated }}" data-prefix="pushed">
                    {{ data.last_updated }}
                </span>
            </span>
        </p>
        <p>
            {{ data.description }}
        </p>

        <div class="mdl-tooltip mdl-tooltip--bottom" data-mdl-for="dockerhub-time-pushed-{{ data.name }}" data-datetime="{{ data.last_updated }}">
            {{ data.last_updated }}
        </div>
    </div>

    <div class="mdl-card__title mdl-card--border mdl-color--cyan mdl-color-text--white">Tags</div>
    <div class="mdl-card__supporting-text">
        <p id="dockerhub-tags-{{ data.name }}" style="display: none;"></p>
    </div>

    <div class="mdl-card__title mdl-card--border mdl-color--cyan mdl-color-text--white">README</div>
    <div class="mdl-card__supporting-text">
        <div class="readme markdown">
            {{ markdown(data.full_description)|safe }}
        </div>
    </div>

    <div class="mdl-card__actions mdl-card--border">
        <!-- TODO inline style -->
        <a style="text-decoration: none"
           id="dockerhub-link-{{ data.name }}" href="https://hub.docker.com/r/{{ data.namespace }}/{{ data.name }}/">
            <span class="mdl-chip mdl-chip--contact">
                <i class="mdl-chip__contact material-icons mdl-color--cyan">public</i>

                <span class="mdl-chip__text">
                    https://hub.docker.com/r/{{ data.namespace }}/{{ data.name }}/
                </span>
            </span>
        </a>

        <div class="mdl-tooltip mdl-tooltip--right" data-mdl-for="dockerhub-link-{{ data.name }}">
            {{ data.namespace }}/{{ data.name }}
        </div>
    </div>

</div>

<script>
    cApp.DateTime.formatTimeFromNow('div#dockerhub-{{ data.name }}');
    cApp.DateTime.formatDateTime('div#dockerhub-{{ data.name }}');
    cApp.DockerHub.generateTags('{{ data.namespace }}/{{ data.name }}', 'dockerhub-tags-{{ data.name }}');
</script>